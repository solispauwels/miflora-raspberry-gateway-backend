{"version":3,"sources":["config.js","picture/picture.js","common/icon.js","list/head.js","list/data.js","list/list.js","app.js","index.js"],"names":["api","pictures","item","picture","date","config","alt","Date","toLocaleString","className","src","icon","getIcon","name","getText","data","format","getUnit","onSelect","onClick","items","first","find","Object","keys","map","index","current","key","App","props","state","this","getEntries","then","setState","selectItem","window","fetch","response","json","React","Component","ReactDOM","render","document","getElementById"],"mappings":"+OAEe,GACbA,IAAyC,OACzCC,SAAmD,a,eCDtC,cAAe,IAAZC,EAAW,EAAXA,KACVC,EAAUD,GAAQA,EAAKE,MAAb,UAAwBC,EAAOJ,SAA/B,YAA2CC,EAAKE,KAAhD,QACVE,EAAMH,GAAW,IAAII,KAAKL,EAAKE,MAAMI,iBAC3C,OACE,qBAAKC,UAAU,UAAf,SACGN,GAAW,qBAAKO,IAAKP,EAASG,IAAKA,OCR3B,kBAAGK,EAAH,EAAGA,KAAH,OAAc,mBAAGF,UAAU,kCAAb,SAAgDE,KCEvEC,EAAU,SAAAC,GACd,OAAQA,GACN,IAAK,QAAS,MAAO,YACrB,IAAK,cAAe,MAAO,aAC3B,IAAK,WAAY,MAAO,cACxB,IAAK,eAAgB,MAAO,QAC5B,IAAK,UAAW,MAAO,wBACvB,IAAK,OAAQ,MAAO,QACpB,QAAS,MAAO,KAIL,kBAAGA,EAAH,EAAGA,KAAH,OAAc,qBAAKJ,UAAU,OAAf,SAAsB,cAAC,EAAD,CAAME,KAAMC,EAAQC,Q,gBCZjEC,EAAU,SAACD,EAAME,GACrB,OAAQF,GACN,IAAK,cAAe,OAAOE,EAAO,GAClC,IAAK,OAAQ,OAAOX,IAAKY,OAAO,IAAIT,KAAKQ,GAAO,eAChD,QAAS,OAAOA,IAIdE,EAAU,SAACJ,GACf,OAAQA,GACN,IAAK,QAAS,MAAO,QACrB,IAAK,cAAe,MAAO,QAC3B,IAAK,WAAY,MAAO,IACxB,IAAK,eAAgB,MAAO,aAC5B,IAAK,UAAW,MAAO,IACvB,QAAS,MAAO,KAIL,kBAAGA,EAAH,EAAGA,KAAME,EAAT,EAASA,KAAMG,EAAf,EAAeA,SAAf,OACb,qBAAKT,UAAU,OAAOU,QAAS,kBAAMD,KAArC,SACE,gCACGJ,EAAQD,EAAME,GACf,gCAAQE,EAAQJ,WCpBP,G,MAAA,YAA+B,IAAD,IAA3BO,aAA2B,MAAnB,GAAmB,EAAfF,EAAe,EAAfA,SACtBG,EAAQD,EAAME,MAAK,SAAApB,GAAI,OAAIA,KACjC,OACE,sBAAKO,UAAU,OAAf,UACGY,GAASE,OAAOC,KAAKH,GAAOI,KAAI,SAACZ,EAAMa,GAAP,OAAkB,cAAC,EAAD,CAAMb,KAAMA,GAAWa,MACzEN,EAAMK,KAAI,SAACvB,EAAMyB,GAAP,OAAmBJ,OAAOC,KAAKtB,GAAMuB,KAAI,SAACG,EAAKF,GAAN,OAClD,cAAC,EAAD,CAAkBb,KAAMe,EAAKb,KAAMb,EAAK0B,GAAMV,SAAU,kBAAMA,EAAShB,KAA5DwB,cCHEG,G,wDACnB,WAAaC,GAAQ,IAAD,8BAClB,cAAMA,IAEDC,MAAQ,CAAEX,MAAO,GAAIlB,KAAM,MAHd,E,qDAMpB,WAAsB,IAAD,OACnB8B,KAAKC,aACFC,MAAK,SAAAd,GAEJ,OADA,EAAKe,SAAS,CAAEf,UACTA,EAAME,MAAK,SAAApB,GAAI,OAAIA,QAE3BgC,MAAK,SAAAhC,GAAI,OAAI,EAAKkC,WAAWlC,Q,wBAGlC,SAAYA,GACV8B,KAAKG,SAAS,CAAEjC,W,wBAGlB,WACE,OAAOmC,OAAOC,MAAP,UAAgBjC,EAAOL,IAAvB,YAAqCkC,MAAK,SAAAK,GAAQ,OAAIA,EAASC,Y,oBAGxE,WAAW,IAAD,OACR,OACE,qCACE,cAAC,EAAD,CAAStC,KAAM8B,KAAKD,MAAM7B,OAC1B,cAAC,EAAD,CAAMkB,MAAOY,KAAKD,MAAMX,MAAOF,SAAU,SAAAhB,GAAI,OAAI,EAAKkC,WAAWlC,a,GA5BxCuC,IAAMC,YCJvCC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.02ba3f76.chunk.js","sourcesContent":["const dev = !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\r\n\r\nexport default {\r\n  api: dev ? 'http://localhost:8080/api' : '/api',\r\n  pictures: dev ? 'http://localhost:8080/pictures' : '/pictures'\r\n}\r\n","import './picture.scss'\r\nimport config from '../config'\r\n\r\nexport default ({ item }) => {\r\n  const picture = item && item.date && `${config.pictures}/${item.date}.jpg`\r\n  const alt = picture && new Date(item.date).toLocaleString()\r\n  return (\r\n    <div className='picture'>\r\n      {picture && <img src={picture} alt={alt} />}\r\n    </div>\r\n  )\r\n}\r\n","export default ({ icon }) => <i className='material-icons mdc-button__icon'>{icon}</i>\r\n","import Icon from '../common/icon'\r\n\r\nconst getIcon = name => {\r\n  switch (name) {\r\n    case 'light': return 'lightbulb'\r\n    case 'temperature': return 'thermostat'\r\n    case 'moisture': return 'local_drink'\r\n    case 'conductivity': return 'grass'\r\n    case 'battery': return 'battery_charging_full'\r\n    case 'date': return 'today'\r\n    default: return ''\r\n  }\r\n}\r\n\r\nexport default ({ name }) => <div className='head'><Icon icon={getIcon(name)} /></div>\r\n","import date from 'date-and-time'\r\n\r\nconst getText = (name, data) => {\r\n  switch (name) {\r\n    case 'temperature': return data / 10\r\n    case 'date': return date.format(new Date(data), 'HH:mm DD/MM')\r\n    default: return data\r\n  }\r\n}\r\n\r\nconst getUnit = (name) => {\r\n  switch (name) {\r\n    case 'light': return '\\nLUX'\r\n    case 'temperature': return '°C'\r\n    case 'moisture': return '%'\r\n    case 'conductivity': return '\\nµS/cm'\r\n    case 'battery': return '%'\r\n    default: return ''\r\n  }\r\n}\r\n\r\nexport default ({ name, data, onSelect }) => (\r\n  <div className='data' onClick={() => onSelect()}>\r\n    <div>\r\n      {getText(name, data)}\r\n      <small>{getUnit(name)}</small>\r\n    </div>\r\n  </div>\r\n)\r\n","import Head from './head'\r\nimport Data from './data'\r\n\r\nimport './list.scss'\r\n\r\nexport default ({ items = [], onSelect }) => {\r\n  const first = items.find(item => item)\r\n  return (\r\n    <div className='list'>\r\n      {first && Object.keys(first).map((name, index) => (<Head name={name} key={index} />))}\r\n      {items.map((item, current) => Object.keys(item).map((key, index) => (\r\n        <Data key={index} name={key} data={item[key]} onSelect={() => onSelect(item)} />\r\n      )))}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport config from './config'\n\nimport Picture from './picture/picture'\nimport List from './list/list'\n\nimport './app.scss'\n\nexport default class App extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = { items: [], item: null }\n  }\n\n  componentDidMount () {\n    this.getEntries()\n      .then(items => {\n        this.setState({ items })\n        return items.find(item => item)\n      })\n      .then(item => this.selectItem(item))\n  }\n\n  selectItem (item) {\n    this.setState({ item })\n  }\n\n  getEntries () {\n    return window.fetch(`${config.api}/bonsai`).then(response => response.json())\n  }\n\n  render () {\n    return (\n      <>\n        <Picture item={this.state.item} />\n        <List items={this.state.items} onSelect={item => this.selectItem(item)} />\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}